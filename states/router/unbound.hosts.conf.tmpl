### This file is managed by saltstack - any changes will be overwritten ###

server:
	local-zone: int.{{ pillar['domain']['name'] }} refuse

{%- for hostname, host in pillar['addresses'].items() %}
{%- for netname, net in host['int'].items() %}
	local-data: "{{ hostname }}.                                                  {{ pillar['domain']['ttl'] }} IN A    {{ net['ip4'] }}"
	local-data: "{{ hostname }}.{{ netname }}.int.{{ pillar['domain']['name'] }}. {{ pillar['domain']['ttl'] }} IN A    {{ net['ip4'] }}"
	local-data: "{{ hostname }}.                                                  {{ pillar['domain']['ttl'] }} IN AAAA {{ net['ip6'] }}"
	local-data: "{{ hostname }}.{{ netname }}.int.{{ pillar['domain']['name'] }}. {{ pillar['domain']['ttl'] }} IN AAAA {{ net['ip6'] }}"
{%- endfor %}
{%- endfor %}

