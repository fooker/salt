### This file is managed by saltstack - any changes will be overwritten ###

{% import 'hive/init.sls' as hive with context -%}

[Match]
Name=hive-{{ pillar['hive']['nodes'].index(remote) }}


[Network]
Description=Hive Link to {{ remote }}

# This tunnel is hardly bound to the external interface
BindCarrier=ext

# No link lokal addressing
LinkLocalAddressing=no

# Don't accept any other addresses
IPv6AcceptRouterAdvertisements=no


[Address]
Address={{ hive.address_ip4(grains['id']) }}/32


[Route]
Destination={{ hive.address_ip4(remote) }}


[Address]
Address={{ hive.address_ip6(grains['id']) }}/128


[Route]
Destination={{ hive.address_ip6(remote) }}

