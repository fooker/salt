### This file is managed by saltstack - any changes will be overwritten ###

{% set backup = pillar['backup']['retentions']|first -%}
{{ '%8s %7s %7s %7s %7s            root    /usr/bin/rsnapshot %s'|format(
  backup['interval']['minute']|default('*'),
  backup['interval']['hour']|default('*'),
  backup['interval']['daymonth']|default('*'),
  backup['interval']['month']|default('*'),
  backup['interval']['dayweek']|default('*'),
  'sync'
) }}

{% for backup in pillar['backup']['retentions'] -%}
{{ '%8s %7s %7s %7s %7s            root    /usr/bin/rsnapshot %s'|format(
  backup['interval']['minute']|default('*'),
  backup['interval']['hour']|default('*'),
  backup['interval']['daymonth']|default('*'),
  backup['interval']['month']|default('*'),
  backup['interval']['dayweek']|default('*'),
  backup['id']
) }}
{% endfor %}
